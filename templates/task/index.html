{% extends "base.html" %}
{% load static %}
{% block header %}
  My work-space
{% endblock %}
{% block content %}
  <div class="workspace-wrapper container mt-4">
    {% if task %}
      <div class="edit-area">
        {% include "task/task_read_update.html" with task=task form=form %}
      </div>
    {% else %}
      <div class="text-center py-5" id="empty-state">
        <div class="plus-circle mb-3 mx-auto d-flex align-items-center justify-content-center"
             style="cursor: pointer; width: 80px; height: 80px; border: 2px dashed #007bff; border-radius: 50%;"
             onclick="showCreateForm()">
          <i class="fas fa-plus fa-2x text-primary"></i>
        </div>
        <h3 class="mt-3">Create your first task</h3>
        <p class="text-muted">Click the plus to get started</p>
      </div>

      <div id="create-form-container" class="d-none">
        <h2 class="mb-4">New Task</h2>
        <form method="post" action="{% url 'task:task-create' %}" novalidate>
          {% csrf_token %}
          {% include "task/task_form.html" %}
        </form>
      </div>
    {% endif %}
  </div>

{% endblock %}

{% block scripts %}
  {{ block.super }}
  <script src="{% static 'js/workspace.js' %}"></script>

  {% if task %}
    <script src="{% static 'js/task_read_update.js' %}"></script>
  {% else %}
    <script src="{% static 'js/task_form.js' %}"></script>
  {% endif %}
{% endblock %}